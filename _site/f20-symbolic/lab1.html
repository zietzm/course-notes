<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Lab 1</title>
  <meta name="description" content="">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>
  

  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="stylesheet" type="text/css" href="/course-notes/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/course-notes/css/print.css" media="print"> -->

  <link rel="canonical" href="http://localhost:4000/course-notes/f20-symbolic/lab1">

  <link rel="alternate" type="application/rss+xml" title="Michael Zietz's Course Notes" href="http://localhost:4000/course-notes/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/course-notes/f20-symbolic/">Contents</a>
	<a href="/course-notes/f20-symbolic/about">About</a>
	</nav>
</header>

    <article class="group">
      <br><br><br><br>
<h1>Lab 1</h1>
<p class="subtitle"></p>

<h2 id="admin">Admin</h2>

<p>There are three parts to this lab: setting up an account, connecting to the class database (plus running a quick query), and critiquing a terminology.</p>

<p>You’re free to do this lab in whatever format and using whatever tools you think are reasonable.
Just submit a PDF on Canvas.</p>

<h2 id="set-up-umls-account">Set up UMLS account</h2>

<p><label for="umls-sidefig" class="margin-toggle">⊕</label>
<input type="checkbox" id="umls-sidefig" class="margin-toggle" />
<span class="marginnote"><a href="/course-notes/page/f20-symbolic/img/UMLS_screenshot.png"><img class="fullwidth" src="/course-notes/page/f20-symbolic/img/UMLS_screenshot.png" alt="Example of what you should see after logging in." /></a><br />
    Example of what you should see after logging in.
</span></p>

<p>This gives you access to tools we’ll use later in the semester.</p>

<p>Go to <a href="https://uts.nlm.nih.gov">https://uts.nlm.nih.gov</a>, and click Sign Up (upper right corner).
Accept the license, fill in your information, and check that you can log in to the UMLS Metathesaurus Browser.</p>

<p>Nothing to submit for this.</p>

<h2 id="connect-to-the-class-database">Connect to the class database</h2>

<p>I’ve created a database that we’ll use for several labs this semester.
<label for="Database" class="margin-toggle sidenote-number"></label><input type="checkbox" id="Database" class="margin-toggle" /><span class="sidenote">It’s a <a href="https://dev.mysql.com/doc/refman/8.0/en/">MySQL 8.0</a> database hosted on <a href="https://aws.amazon.com/rds/">AWS RDS</a>.
Currently, it contains several <a href="https://ohdsi.github.io/TheBookOfOhdsi/CommonDataModel.html">OMOP-formatted</a> vocabulary tables downloaded from <a href="https://athena.ohdsi.org/">Athena</a>.</span></p>

<p>For now, let’s just be sure everyone can access this database.</p>

<p>You’re free to use whatever software you like <label for="Software recommendations" class="margin-toggle sidenote-number"></label><input type="checkbox" id="Software recommendations" class="margin-toggle" /><span class="sidenote">See <a href="#software">software</a> if you want recommendations.</span>
.
Shoot me a message if you’re not able to get something installed.</p>

<p>The address, port, username, and password you’ll use for the database will be posted on Canvas.<label for="db-note" class="margin-toggle sidenote-number"></label><input type="checkbox" id="db-note" class="margin-toggle" /><span class="sidenote">Couple notes:
The student account only has read access.
The DB is on a <code class="highlighter-rouge">t2.micro</code> free tier machine and may be a bit slow.
Please be respectful and don’t run excessive queries that interfere with your classmates.
Finally, please don’t share the access information for this database outside our class.
There’s no PHI on there, but there’s not much bandwith as is.
</span></p>

<p>Once you have access, you’re looking for the <strong><code class="highlighter-rouge">clinical_vocabulary</code></strong> database.</p>

<p><span class="newthought">Your task</span> is to identify your favorite condition and tell me how many concepts use that word in their name.
For example, if you pick hypertension <label for="htn" class="margin-toggle sidenote-number"></label><input type="checkbox" id="htn" class="margin-toggle" /><span class="sidenote">Pick something else.</span>
, you could run:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">CONCEPT</span>
<span class="k">WHERE</span> <span class="n">concept_name</span> <span class="k">LIKE</span> <span class="s1">'%hypertension%'</span>
</code></pre></div></div>

<p>The real point of this is to be sure everyone can access an online SQL database, so there’s no need to do a fancy query.</p>

<p>Just tell me what condition you chose, what query you ran, and how many concepts you found.</p>

<h2 id="terminology-example">Terminology example</h2>

<p><span class="newthought">Imagine we wanted</span> to make a terminology about pizza.
Here are two such terminologies.<label for="pizza1" class="margin-toggle sidenote-number"></label><input type="checkbox" id="pizza1" class="margin-toggle" /><span class="sidenote">I’m only going to include the first 9 of 40 types of pizza from a <a href="https://www.foodrepublic.com/2015/11/18/have-you-tried-these-40-types-of-pizza/">diagram by Jess Kapadia</a>.</span></p>

<figure>
<figcaption>Terminology 1</figcaption>
<a href="/course-notes/page/f20-symbolic/img/pizza_01.png">
<img class="fullwidth" src="/course-notes/page/f20-symbolic/img/pizza_01.png" alt="Terminology 1" />
</a>
</figure>

<p><br /><br /></p>

<figure>
<figcaption>Terminology 2</figcaption>
<a href="/course-notes/page/f20-symbolic/img/pizza_02.png">
<img class="fullwidth" src="/course-notes/page/f20-symbolic/img/pizza_02.png" alt="Terminology 2" />
</a>
</figure>

<p>Please answer the following questions in your submission.
A couple sentences could be sufficient.</p>

<ol>
  <li>Which terminology is more understandable to you, and why?</li>
  <li>Which terminology do you think would be easier to add the <a href="https://www.foodrepublic.com/2015/11/18/have-you-tried-these-40-types-of-pizza/">remaining 31 types of pizza</a> into, and why?</li>
  <li>Can you name one advantage and one disadvantage of each terminology vs the other?</li>
  <li>Can you think of any ways to improve Terminology 2?<label for="pizza2" class="margin-toggle sidenote-number"></label><input type="checkbox" id="pizza2" class="margin-toggle" /><span class="sidenote">Don’t stress too much on this one. This is one of the overall topics of the course.</span></li>
</ol>

<p><strong>That’s all for this lab!</strong></p>

<hr />

<h2 id="software-suggestions">Software suggestions</h2>

<p>An easy way to test access is via the <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql.html">MySQL command line interface</a>.
This is available for Linux/Mac package managers, and is easily installed with <a href="https://formulae.brew.sh/formula/mysql">Homebrew</a>, <a href="https://dev.mysql.com/downloads/repo/apt/">APT</a>, <a href="https://wiki.archlinux.org/index.php/MySQL">pacman</a>, and probably any other package manager you may be using.
Windows users could install the <a href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-install.html">MySQL shell</a>.</p>

<p>A more familiar alternative is to use a GUI application like <a href="https://www.sequelpro.com/">Sequel Pro</a>, <a href="https://www.jetbrains.com/datagrip/">DataGrip</a>, <a href="https://dbeaver.io/">DBeaver</a>, or <a href="https://www.mysql.com/products/workbench/">MySQL Workbench</a>.</p>

<p>For programmatic access, I’d suggest any tool like R’s <a href="https://db.rstudio.com/dbi/"><code class="highlighter-rouge">DBI</code></a> and <a href="https://rmariadb.r-dbi.org/"><code class="highlighter-rouge">RMariaDB</code></a>, Python’s <a href="https://docs.sqlalchemy.org/en/13/dialects/mysql.html"><code class="highlighter-rouge">sqlalchemy</code></a> and <a href="https://mysqlclient.readthedocs.io/"><code class="highlighter-rouge">mysqlclient</code></a>.</p>

<p>Choose whatever you find most comfortable.
You can complete every lab we’ll do with any of these tools.</p>

<h3 id="mysql-cli-example">MySQL CLI example</h3>

<p>The command line client is probably the easiest thing to get installed.</p>

<p>Once installed, use the address, port, username and password I posted on Canvas to run the following, substituting things directly.<label for="CLI" class="margin-toggle sidenote-number"></label><input type="checkbox" id="CLI" class="margin-toggle" /><span class="sidenote">For example, substitute <code class="highlighter-rouge">$ADDRESS</code> directly to <code class="highlighter-rouge">ABC123.rds.amazonaws.com</code>.</span></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql <span class="nt">-h</span> <span class="nv">$ADDRESS</span> <span class="nt">-P</span> <span class="nv">$PORT</span> <span class="nt">-u</span> <span class="nv">$USERNAME</span> <span class="nt">-p</span>
</code></pre></div></div>

<p>You’ll be prompted to enter the password.</p>

<p>If your access was successful, you’ll see a MySQL prompt like <code class="highlighter-rouge">mysql&gt;</code>.
Select the database using</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql&gt; USE clinical_vocabulary<span class="p">;</span>
</code></pre></div></div>

<p>Then run your query.</p>



    </article>
    <span class="print-footer">Lab 1 - Michael Zietz</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links" style="margin-left: auto; margin-right: auto; text-align: center;">
      <a style="font-size: 25px;" href="/course-notes/">Other courses</a>

      <br>
      <br>

      <li>
        <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
          <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
        </a>
        <br />
        These notes are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      </li>
  </ul>
</footer>

  </body>
</html>
